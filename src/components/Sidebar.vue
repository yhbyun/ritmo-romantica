<template>
    <!--
    <div class="w-56 bg-grey-darkest text-white border-r border-blackblack fixed min-h-screen pt-8">
    -->
    <div :class="$style.sidebar">

        <div class="search-container text-center p-4 relative">
            <input type="text" placeholder="Search" class="bg-grey-darker text-grey-light text-xs w-full p-2 pl-8 border border-grey-dark rounded">
            <div class="absolute pin-t py-5 px-2 text-grey-light">
                <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 18" width="18" height="18"><path class="heroicon-ui" d="M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z"></path></svg>
            </div>
        </div>

        <div class="sidebar-icons">
            <router-link to="/" class="sidebar-icon flex items-center px-4 py-2 text-grey no-underline cursor-pointer hover:bg-grey-darker">
                <svg fill="currentColor" class="mr-3" width="24px" height="24px" viewBox="0 0 24 24">
                    <path d="M24,9.30056711 C24,9.52236925 23.875,9.76433522 23.625,10.026465 L18.3894231,15.3799622 L19.6298077,22.9413989 C19.6394231,23.0119723 19.6442308,23.1127914 19.6442308,23.2438563 C19.6442308,23.4555766 19.59375,23.6345306 19.4927885,23.7807183 C19.3918269,23.9269061 19.2451923,24 19.0528846,24 C18.8701923,24 18.6778846,23.9395085 18.4759615,23.8185255 L12,20.2495274 L5.52403846,23.8185255 C5.3125,23.9395085 5.12019231,24 4.94711538,24 C4.74519231,24 4.59375,23.9269061 4.49278846,23.7807183 C4.39182692,23.6345306 4.34134615,23.4555766 4.34134615,23.2438563 C4.34134615,23.1833648 4.35096154,23.0825457 4.37019231,22.9413989 L5.61057692,15.3799622 L0.360576923,10.026465 C0.120192308,9.75425331 0,9.51228733 0,9.30056711 C0,8.92753623 0.269230769,8.69565217 0.807692308,8.60491493 L8.04807692,7.50094518 L11.2932692,0.620037807 C11.4759615,0.206679269 11.7115385,0 12,0 C12.2884615,0 12.5240385,0.206679269 12.7067308,0.620037807 L15.9519231,7.50094518 L23.1923077,8.60491493 C23.7307692,8.69565217 24,8.92753623 24,9.30056711 Z"></path>
                </svg>
                <div class="text-white">Discover</div>
            </router-link> <!-- end sidebar-icon -->

            <router-link to="/create" class="sidebar-icon flex items-center px-4 py-2 text-grey no-underline cursor-pointer hover:bg-grey-darker">
                <svg fill="currentColor" class="mr-3" width="24px" height="24px" viewBox="0 0 24 24">
                    <path d="M21.6536313,0 C22.2793296,0 22.8268156,0.207589286 23.2960894,0.622767857 C23.7653631,1.03794643 24,1.55803571 24,2.18303571 C24,2.74553571 23.7988827,3.41964286 23.396648,4.20535714 C20.4290503,9.82142857 18.350838,13.1785714 17.1620112,14.2767857 C16.2949721,15.0892857 15.3206704,15.4955357 14.2391061,15.4955357 C13.1128492,15.4955357 12.1452514,15.0825893 11.3363128,14.2566964 C10.5273743,13.4308036 10.122905,12.4508929 10.122905,11.3169643 C10.122905,10.1741071 10.5340782,9.22767857 11.3564246,8.47767857 L19.9106145,0.723214286 C20.4379888,0.241071429 21.0189944,0 21.6536313,0 Z M9.46592179,13.8482143 C9.81452514,14.5267857 10.2905028,15.1071429 10.8938547,15.5892857 C11.4972067,16.0714286 12.1698324,16.4107143 12.9117318,16.6071429 L12.9251397,17.5580357 C12.9608939,19.4598214 12.3821229,21.0089286 11.1888268,22.2053571 C9.99553073,23.4017857 8.43798883,24 6.51620112,24 C5.41675978,24 4.4424581,23.7924107 3.59329609,23.3772321 C2.74413408,22.9620536 2.06256983,22.3928571 1.54860335,21.6696429 C1.03463687,20.9464286 0.648044693,20.1294643 0.388826816,19.21875 C0.129608939,18.3080357 0,17.3258929 0,16.2723214 C0.0625698324,16.3169643 0.245810056,16.4508929 0.54972067,16.6741071 C0.853631285,16.8973214 1.13072626,17.0959821 1.38100559,17.2700893 C1.63128492,17.4441964 1.89497207,17.6071429 2.17206704,17.7589286 C2.44916201,17.9107143 2.6547486,17.9866071 2.78882682,17.9866071 C3.15530726,17.9866071 3.40111732,17.8214286 3.52625698,17.4910714 C3.74972067,16.9017857 4.00670391,16.3995536 4.2972067,15.984375 C4.5877095,15.5691964 4.89832402,15.2299107 5.22905028,14.9665179 C5.55977654,14.703125 5.95307263,14.4910714 6.40893855,14.3303571 C6.86480447,14.1696429 7.32513966,14.0558036 7.78994413,13.9888393 C8.2547486,13.921875 8.81340782,13.875 9.46592179,13.8482143 Z"></path>
                </svg>
                <div class="text-white">Create</div>
            </router-link> <!-- end sidebar-icon -->

            <router-link to ="/youtube" class="sidebar-icon flex items-center px-4 py-2 text-grey no-underline cursor-pointer hover:bg-grey-darker">
                <svg fill="currentColor" class="mr-3" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                    <path d="M20.7078301,4.70588235 C20.7078301,4.31372549 20.5706563,3.98039216 20.2963088,3.70588235 C20.0219613,3.43137255 19.6888251,3.29411765 19.2969001,3.29411765 C18.9049751,3.29411765 18.5718388,3.43137255 18.2974913,3.70588235 C18.0231438,3.98039216 17.8859701,4.31372549 17.8859701,4.70588235 C17.8859701,5.09803922 18.0231438,5.43137255 18.2974913,5.70588235 C18.5718388,5.98039216 18.9049751,6.11764706 19.2969001,6.11764706 C19.6888251,6.11764706 20.0219613,5.98039216 20.2963088,5.70588235 C20.5706563,5.43137255 20.7078301,5.09803922 20.7078301,4.70588235 Z M24,0.470588235 C24,2.91176471 23.6301208,5.02205882 22.8903624,6.80147059 C22.1506039,8.58088235 20.9086916,10.3480392 19.1646254,12.1029412 C18.3709773,12.8872549 17.4156601,13.75 16.2986739,14.6911765 L16.0047301,20.2647059 C15.9851339,20.4215686 15.9067489,20.5490196 15.7695751,20.6470588 L10.1258552,23.9411765 C10.0572684,23.9803922 9.97888335,24 9.89070023,24 C9.77312273,24 9.66044429,23.9558824 9.55266492,23.8676471 L8.61204494,22.9264706 C8.48466931,22.7892157 8.44547681,22.6323529 8.49446744,22.4558824 L9.74372836,18.3970588 L5.61381873,14.2647059 L1.55739505,15.5147059 C1.52800068,15.5245098 1.48390911,15.5294118 1.42512036,15.5294118 C1.28794662,15.5294118 1.17526818,15.4852941 1.08708506,15.3970588 L0.146465073,14.4558824 C-0.0201030492,14.2696078 -0.0445983613,14.0784314 0.0729791368,13.8823529 L3.36514908,8.23529412 C3.46313033,8.09803922 3.59050595,8.01960784 3.74727595,8 L9.31750992,7.70588235 C10.2581299,6.58823529 11.1203649,5.63235294 11.9042149,4.83823529 C13.7462624,3.00490196 15.5001267,1.74019608 17.1658079,1.04411765 C18.8314891,0.348039216 20.942985,0 23.5002956,0 C23.6374694,0 23.7550469,0.0465686275 23.8530281,0.139705882 C23.9510094,0.232843137 24,0.343137255 24,0.470588235 Z"></path>
                </svg>
                <div class="text-white">Play</div>
            </router-link> <!-- end sidebar-icon -->
        </div>

    </div>
</template>

<script>
    import {TweenMax, Power4} from 'gsap'
    export default {
        name: 'sidebar',
        mounted () {
            TweenMax.set(this.$el, {
                x: this.$el.offsetWidth
            })
        },
        computed: {
            open () {
                return this.$store.state.ui.sidebarOpen
            }
        },
        watch: {
            open: function (open) {
                const dX = open ? 0 : this.$el.offsetWidth
                TweenMax.to(this.$el, 0.6, {
                    x: dX,
                    ease: Power4.easeOut
                })
            }
        }
    }
</script>

<style module>
    .sidebar{
        position: fixed;
        right: 0;
        top: 0;
        width: 300px;
        height: 100vh;
        max-width: 90vw;
        background-color: var(--accent-color);
    }
</style>
